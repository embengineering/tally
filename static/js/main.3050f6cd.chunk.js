(this["webpackJsonpembengineering-tally"]=this["webpackJsonpembengineering-tally"]||[]).push([[0],{16:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);a(16);var n=a(2),r=a(3),o=a(4),l=a(6),i=a(15),c=a(0),s=a.n(c),m=a(12),u=a.n(m),d=a(1),h=function(e){var t=e.description,a=void 0===t?"":t,n=e.currentValue,r=void 0===n?0:n,o=e.defaultValue,l=void 0===o?0:o,i=e.onAddClick,c=e.onRemoveClick,m=e.onDeleteClick;return s.a.createElement("div",{className:"card",style:{marginBottom:"10px"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("h4",{className:"card-title"},a," ",s.a.createElement("div",{className:"float-right badge badge-info"},"".concat(r," / ").concat(l))),s.a.createElement("button",{type:"button",className:"btn btn-sm btn-primary",onClick:i},"Add")," ",s.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:c},"Remove"),s.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger float-right",onClick:m},"Delete")),s.a.createElement("div",{className:"progress",style:{borderTopLeftRadius:0,borderTopRightRadius:0}},s.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(r/l*100,"%")},"aria-valuenow":r,"aria-valuemin":"0","aria-valuemax":l})))},b=a(14),f=a(13),p=a.n(f),g=function(e){var t=e.description,a=e.defaultValue,n=e.onFormDescriptionChange,r=e.onFormDefaultChange,o=e.onSaveForm,l=e.onCancelForm;return s.a.createElement("div",{className:"card",style:{marginBottom:"10px"}},s.a.createElement("div",{className:"card-body"},s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Description"),s.a.createElement("input",{value:t,onChange:n,name:"description",type:"text",className:"form-control",placeholder:"Enter description"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Default"),s.a.createElement("input",{value:a,onChange:r,name:"default",type:"number",step:"1",className:"form-control",placeholder:"Enter default"})),s.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:o},"Save")," ",s.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:l},"Cancel"))))},v=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleCancelForm=function(){return r.props.hideForm()},r.handleSaveForm=function(e){e.preventDefault();var t=JSON.parse(localStorage.getItem("tallyItems")||"[]"),a={id:r.state.id||p()(),description:r.state.description.trim(),defaultValue:r.state.defaultValue,currentValue:r.state.currentValue},n=[].concat(Object(b.a)(t),[a]);localStorage.setItem("tallyItems",JSON.stringify(n)),r.props.updateItems(n),r.props.hideForm()},r.handleFormDescriptionChange=function(e){return r.setState({description:e.target.value})},r.handleFormDefaultChange=function(e){return r.setState({defaultValue:e.target.value})},r.state={id:"",description:"",defaultValue:0,currentValue:0},r}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement(g,{onSaveForm:this.handleSaveForm,onCancelForm:this.handleCancelForm,description:this.state.description,defaultValue:this.state.defaultValue,onFormDescriptionChange:this.handleFormDescriptionChange,onFormDefaultChange:this.handleFormDefaultChange})}}]),a}(s.a.Component),C=void 0,y=function(e){var t=e.items,a=void 0===t?[]:t,n=e.formVisible,r=e.onAddClick,o=e.onRemoveClick,l=e.onDeleteClick,i=e.onNewCategory,c=e.onResetAll,m=e.hideForm,u=e.showForm,d=e.updateItems;return s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-link",onClick:i},"New Category"),s.a.createElement("button",{className:"btn btn-link text-muted",onClick:c},"Reset All"),n&&s.a.createElement(v,{hideForm:m,showForm:u,updateItems:d}),a.length?a.map((function(e){return s.a.createElement(h,Object.assign({key:e.id},e,{onAddClick:r.bind(C,e.id),onRemoveClick:o.bind(C,e.id),onDeleteClick:l.bind(C,e.id)}))})):s.a.createElement("div",{className:"alert alert-primary"},"No categories were found."),s.a.createElement("div",{className:"alert alert-secondary"},s.a.createElement("strong",null,"TALLY! "),"Tally is a record of amounts or numbers which you keep changing and adding to as the activity which affects it progresses."))},k=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).handleAddClick=function(e){return r.setState({items:r.state.items.map((function(t){return t.id===e&&t.currentValue>0&&console.log("".concat(t.description," increased to ").concat(Number(t.currentValue)+1)),t.id===e?Object(d.a)(Object(d.a)({},t),{},{currentValue:Number(t.currentValue)+1}):t}))},r.storeItemsInLocalStorage)},r.handleRemoveClick=function(e){return r.setState({items:r.state.items.map((function(t){return t.id===e&&t.currentValue>0&&console.log("".concat(t.description," decreased to ").concat(Number(t.currentValue)-1)),t.id===e&&t.currentValue>0?Object(d.a)(Object(d.a)({},t),{},{currentValue:Number(t.currentValue)-1}):t}))},r.storeItemsInLocalStorage)},r.handleDeleteClick=function(e){return r.setState({items:r.state.items.filter((function(t){return t.id!==e}))},r.storeItemsInLocalStorage)},r.handleNewCategoryClick=function(){return r.showForm()},r.handleResetAll=function(){return r.setState({items:r.state.items.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{currentValue:0})}))},r.storeItemsInLocalStorage)},r.hideForm=function(){return r.setState({formVisible:!1})},r.showForm=function(){return r.setState({formVisible:!0})},r.updateItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.setState({items:e},r.storeItemsInLocalStorage)},r.getItemsFromLocalStorage=function(){return JSON.parse(localStorage.getItem("tallyItems")||"[]")},r.storeItemsInLocalStorage=function(){localStorage.setItem("tallyItems",JSON.stringify(r.state.items)),console.log("Items updated in local storage:",r.state.items)},r.state={items:r.getItemsFromLocalStorage(),formVisible:!1},r}return Object(r.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(y,{items:this.state.items,formVisible:this.state.formVisible,onAddClick:this.handleAddClick.bind(this),onRemoveClick:this.handleRemoveClick,onDeleteClick:this.handleDeleteClick,onNewCategory:this.handleNewCategoryClick,onResetAll:this.handleResetAll,hideForm:this.hideForm,showForm:this.showForm,updateItems:this.updateItems}))}}]),a}(s.a.Component),E=k,N=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"connectedCallback",value:function(){u.a.render(s.a.createElement(E,null),this)}}]),a}(Object(i.a)(HTMLElement));window.customElements.define("tally-tool",N)}},[[27,1,2]]]);
//# sourceMappingURL=main.3050f6cd.chunk.js.map